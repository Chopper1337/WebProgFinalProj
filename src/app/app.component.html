<div class="container">
  <h1>URL Scanner</h1>
  <form>
    <div class="form-group">
      <input type="text" name="URL" #URL placeholder="Enter URL" class="form-control my-3">
      <button class="btn btn-primary" (click)="getURLScanReport(URL.value)" type="submit">Scan URL</button>
    </div>
  </form>
</div>

<div class="container py-3">
  <div class="card mb-3" *ngIf="websiteData" >
   <div class="row g-0">
    <div class="col-md-4">
      <img class="img-fluid rounded-start" style="max-height: 100em;max-width: 100em;" src="{{websiteData.data.attributes.url}}/favicon.ico" alt="Website favicon"> <!-- Website favicon was supposed to go here but the free VT API doesn't have that option -->
    </div>
    <div class="col-md-8">
      <div class="card-body">
        <h2 class="card-title">{{websiteData.data.attributes.title}}</h2>
        <hr>
        <a class="card-text" href="{{websiteData.data.attributes.url}}" >URL: {{websiteData.data.attributes.url}}</a>
        <p class="card-text">Reputation rating: {{websiteData.data.attributes.reputation}}</p>
        <hr>
        <h5 class="card-text">Last scan ratings:</h5>
        <p class="card-text">Harmless: {{websiteData.data.attributes.last_analysis_stats.harmless}}</p>
        <p class="card-text">Malicious: {{websiteData.data.attributes.last_analysis_stats.malicious}}</p>
        <p class="card-text">Suspicious: {{websiteData.data.attributes.last_analysis_stats.suspicious}}</p>
        <p class="card-text">Undetected: {{websiteData.data.attributes.last_analysis_stats.undetected}}</p>
        <p class="card-text">Timeout: {{websiteData.data.attributes.last_analysis_stats.timeout}}</p>
        <p class="card-text"><small class="text-muted">{{websiteData.data.attributes.last_submission_date | date:'dd-MM-yyyy HH:mm:ss'}}</small></p>
      <button class="btn btn-primary" (click)="addToFavourites(websiteData.data.attributes.title, websiteData.data.attributes.url,websiteData.data.attributes.reputation,websiteData.data.last_analysis_stats,websiteData.data.attributes.last_submission_date)" type="submit">Add to favourites</button>
      </div>
    </div>
  </div>
</div>
</div>
<app-websitelist></app-websitelist>